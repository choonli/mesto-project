(()=>{"use strict";var e=function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove("popup__submit-button_disabled"),t.disabled=!1):(t.classList.add("popup__submit-button_disabled"),t.disabled=!0)},t=document.querySelector(".popup-profile"),r=t.querySelector(".popup__form"),o=r.querySelector(".name__input"),n=r.querySelector(".bio__input"),c=(t.querySelector(".popup__submit-button"),document.querySelector(".popup__add")),u=(c.querySelector(".popup__form"),c.querySelector(".popup__submit-button"),document.querySelector(".popup__form")),a=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__name"),p=document.querySelector(".profile__bio"),d=document.querySelector("#placename"),s=document.querySelector("#img-link"),l=document.querySelectorAll(".popup__close-button"),_=document.querySelector(".profile__add-button");function m(e){e.classList.add("popup_opened")}function y(e){e.classList.remove("popup_opened")}document.addEventListener("keydown",(function(e){"Escape"==e.key&&(y(t),y(c),y(b))})),document.querySelectorAll(".popup").forEach((function(e){e.addEventListener("click",(function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close-button"))&&y(e)}))}));var f=document.querySelector("#card-place").content,v=document.querySelector(".cards"),q=document.querySelector(".popup__zoom-pic"),S=document.querySelector(".popup__pic-description"),b=document.querySelector(".popup_opened_pic");function k(e,t){var r=f.querySelector(".card").cloneNode(!0);return r.querySelector(".card__heading").textContent=e,r.querySelector(".card__image").src=t,r.querySelector(".card__image").alt=e,r.querySelector(".card__trash-button").addEventListener("click",(function(){r.querySelector(".card__trash-button").closest(".card").remove()})),r.querySelector(".card__like-button").addEventListener("click",(function(){r.querySelector(".card__like-button").classList.toggle("card__like-button_active")})),r.querySelector(".card__image").addEventListener("click",(function(){m(b),q.src=r.querySelector(".card__image").src,S.textContent=r.querySelector(".card__heading").textContent,q.alt=r.querySelector(".card__heading").textContent})),r}function g(e){e.preventDefault(),i.textContent=o.value,p.textContent=n.value,y(t),u.reset()}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){v.prepend(k(e.name,e.link))})),c.addEventListener("submit",(function(e){v.prepend(k(d.value,s.value)),g(e),y(c),e.target.reset()})),_.addEventListener("click",(function(){m(c)})),a.addEventListener("click",(function(){m(t)})),l.forEach((function(e){return e.addEventListener("click",(function(){y(t),y(c),y(b)}))})),t.addEventListener("submit",g),Array.from(document.querySelectorAll(".popup__form")).forEach((function(t){t.addEventListener("submit",(function(e){e.preventDefault()})),Array.from(t.querySelectorAll(".popup__set")).forEach((function(t){!function(t){var r=Array.from(t.querySelectorAll(".popup__input")),o=t.querySelector(".popup__submit-button");e(r,o),r.forEach((function(n){n.addEventListener("input",(function(){e(r,o),function(e,t){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?function(e,t){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("popup__input_type_error"),r.classList.remove("popup__input-error_active"),r.textContent=""}(e,t):function(e,t,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add("popup__input_type_error"),o.textContent=r,o.classList.add("popup__input-error_active")}(e,t,t.validationMessage)}(t,n)}))}))}(t)}))}))})();